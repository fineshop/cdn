import{_getProvider as e,getApp as t,_registerComponent as r,registerVersion as n}from"./firebase-app.min.js";const o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let r=0;r<n.length;r+=3){var i=n[r],s=r+1<n.length,c=s?n[r+1]:0,h=r+2<n.length,l=h?n[r+2]:0;let e=(15&c)<<2|l>>6,t=63&l;h||(t=64,s||(e=64)),a.push(o[i>>2],o[(3&i)<<4|c>>4],o[e],o[t])}return a.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(r){const n=[];let o=0;for(let t=0;t<r.length;t++){let e=r.charCodeAt(t);e<128?n[o++]=e:(e<2048?n[o++]=e>>6|192:(55296==(64512&e)&&t+1<r.length&&56320==(64512&r.charCodeAt(t+1))?(e=65536+((1023&e)<<10)+(1023&r.charCodeAt(++t)),n[o++]=e>>18|240,n[o++]=e>>12&63|128):n[o++]=e>>12|224,n[o++]=e>>6&63|128),n[o++]=63&e|128)}return n}(e),t)},decodeString(r,n){if(this.HAS_NATIVE_SUPPORT&&!n)return atob(r);{var o=this.decodeStringToByteArray(r,n);const h=[];let e=0,t=0;for(;e<o.length;){var a,i,s,c=o[e++];c<128?h[t++]=String.fromCharCode(c):191<c&&c<224?(a=o[e++],h[t++]=String.fromCharCode((31&c)<<6|63&a)):239<c&&c<365?(a=((7&c)<<18|(63&o[e++])<<12|(63&o[e++])<<6|63&o[e++])-65536,h[t++]=String.fromCharCode(55296+(a>>10)),h[t++]=String.fromCharCode(56320+(1023&a))):(i=o[e++],s=o[e++],h[t++]=String.fromCharCode((15&c)<<12|(63&i)<<6|63&s))}return h.join("")}},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){var o=r[t.charAt(e++)],a=e<t.length?r[t.charAt(e)]:0,i=++e<t.length?r[t.charAt(e)]:64,s=++e<t.length?r[t.charAt(e)]:64;if(++e,null==o||null==a||null==i||null==s)throw Error();if(n.push(o<<2|a>>4),64!==i){const t=a<<4&240|i>>2;if(n.push(t),64!==s){const t=i<<6&192|s;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},i=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a(){try{return"object"==typeof indexedDB}catch(e){return!1}}class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(r){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof r&&(this.promise.catch(()=>{}),1===r.length?r(e):r(e,t))}}}class c extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var n,t=t[0]||{},r=this.service+"/"+e,e=this.errors[e],e=e?(n=t,e.replace(l,(e,t)=>{var r=n[t];return null!=r?String(r):`<${t}?>`})):"Error",e=this.serviceName+`: ${e} (${r}).`;return new c(r,e,t)}}const l=/\{\$([^}]+)}/g;function u(e){return JSON.parse(e)}const p=function(e){const t=function(e){let t={},r={},n={},o="";try{var a=e.split(".");t=u(i(a[0])||""),r=u(i(a[1])||""),o=a[2],n=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:n,signature:o}}(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null};class d{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var g;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(g=g||{});const f={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},E=g.INFO,w={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},_=(e,t,...r)=>{if(!(t<e.logLevel)){var n=(new Date).toISOString(),o=w[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...r)}},k=new Map,y={activated:!1,tokenObservers:[]},m={initialized:!1,enabled:!1};function v(e){return k.get(e)||Object.assign({},y)}function b(){return m}const A="https://content-firebaseappcheck.googleapis.com/v1",T=3e4,S=96e4;class C{constructor(e,t,r,n,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=n,this.upperBound=o,this.pending=null,o<(this.nextErrorWaitInterval=n))throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new s,t=this.getNextRun(e),await new Promise(e=>{setTimeout(e,t)}),this.pending.resolve(),await this.pending.promise,this.pending=new s,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}var t}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const R=new h("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function D(e=!1){return e?null==(e=self.grecaptcha)?void 0:e.enterprise:self.grecaptcha}function P(e){if(!v(e).activated)throw R.create("use-before-activation",{appName:e.name})}function x(e){var e=Math.round(e/1e3),t=Math.floor(e/86400),r=Math.floor((e-3600*t*24)/3600),n=Math.floor((e-3600*t*24-3600*r)/60),e=e-3600*t*24-3600*r-60*n;let o="";return t&&(o+=O(t)+"d:"),r&&(o+=O(r)+"h:"),o+=O(n)+"m:"+O(e)+"s"}function O(e){return 0===e?"00":10<=e?e.toString():"0"+e}async function I({url:e,body:t},r){const n={"Content-Type":"application/json"},o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&(n["X-Firebase-Client"]=e)}r={method:"POST",body:JSON.stringify(t),headers:n};let a,i;try{a=await fetch(e,r)}catch(e){throw R.create("fetch-network-error",{originalErrorMessage:null==e?void 0:e.message})}if(200!==a.status)throw R.create("fetch-status-error",{httpStatus:a.status});try{i=await a.json()}catch(e){throw R.create("fetch-parse-error",{originalErrorMessage:null==e?void 0:e.message})}t=i.ttl.match(/^([\d.]+)(s)$/);if(!t||!t[2]||isNaN(Number(t[1])))throw R.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+i.ttl});r=1e3*Number(t[1]),t=Date.now();return{token:i.token,expireTimeMillis:t+r,issuedAtTimeMillis:t}}const N="firebase-app-check-store";let M=null;function B(){return M||(M=new Promise((t,r)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(R.create("storage-open",{originalErrorMessage:null==(e=e.target.error)?void 0:e.message}))},e.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(N,{keyPath:"compositeKey"})}}catch(t){r(R.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}))}async function L(e,t){const n=(await B()).transaction(N,"readwrite"),o=n.objectStore(N).put({compositeKey:e,value:t});return new Promise((t,r)=>{o.onsuccess=e=>{t()},n.onerror=e=>{r(R.create("storage-set",{originalErrorMessage:null==(e=e.target.error)?void 0:e.message}))}})}async function H(e){const n=(await B()).transaction(N,"readonly"),o=n.objectStore(N).get(e);return new Promise((t,r)=>{o.onsuccess=e=>{e=e.target.result;t(e?e.value:void 0)},n.onerror=e=>{r(R.create("storage-get",{originalErrorMessage:null==(e=e.target.error)?void 0:e.message}))}})}function $(e){return e.options.appId+"-"+e.name}const j=new class{constructor(e){this.name=e,this._logLevel=E,this._logHandler=_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in g))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?f[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...e),this._logHandler(this,g.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...e),this._logHandler(this,g.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,g.INFO,...e),this._logHandler(this,g.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,g.WARN,...e),this._logHandler(this,g.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...e),this._logHandler(this,g.ERROR,...e)}}("@firebase/app-check");async function W(t){if(a()){let e;try{e=await H($(t))}catch(t){j.warn("Failed to read token from IndexedDB. Error: "+t)}return e}}function F(e,t){return a()?(t=t,L($(e),t).catch(e=>{j.warn("Failed to write token to IndexedDB. Error: "+e)})):Promise.resolve()}async function V(){let e;try{e=await H("debug-token")}catch(e){}if(e)return e;{const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return L("debug-token",e).catch(e=>j.warn("Failed to persist debug token to IndexedDB. Error: "+e)),e}}function K(){return b().enabled}async function z(){var e=b();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}function U(){const e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}(),t=b();if(t.initialized=!0,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;const r=new s;t.token=r,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?r.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(V())}}const q={error:"UNKNOWN_ERROR"};async function G(e,t=!1){var r=e.app;P(r);const n=v(r);let o,a=n.token;if(a&&!Q(a)&&(n.token=void 0,a=void 0),!a){const e=await n.cachedTokenPromise;e&&(Q(e)?a=e:await F(r,void 0))}if(!t&&a&&Q(a))return{token:a.token};let i,s=!1;if(K()){n.exchangeTokenPromise||(n.exchangeTokenPromise=I(function(e,t){var{projectId:e,appId:r,apiKey:n}=e.options;return{url:A+`/projects/${e}/apps/${r}:exchangeDebugToken?key=`+n,body:{debug_token:t}}}(r,await z()),e.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),s=!0);const t=await n.exchangeTokenPromise;return await F(r,t),{token:(n.token=t).token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),s=!0),a=await v(r).exchangeTokenPromise}catch(e){"appCheck/throttled"===e.code?j.warn(e.message):j.error(e),o=e}return a?o?i=Q(a)?{token:a.token,internalError:o}:ee(o):(i={token:a.token},await F(r,n.token=a)):i=ee(o),s&&Z(r,i),i}function X(e,t,r,n){const o=e["app"],a=v(o),i={next:r,error:n,type:t};if(a.tokenObservers=[...a.tokenObservers,i],a.token&&Q(a.token)){const t=a.token;Promise.resolve().then(()=>{r({token:t.token}),Y(e)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Y(e))}function J(e,t){const r=v(e),n=r.tokenObservers.filter(e=>e.next!==t);0===n.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),r.tokenObservers=n}function Y(e){const t=e["app"],r=v(t);let n=r.tokenRefresher;n||(n=function(t){const r=t["app"];return new C(async()=>{var e=v(r).token?await G(t,!0):await G(t);if(e.error)throw e.error;if(e.internalError)throw e.internalError},()=>!0,()=>{var e,t=v(r);return t.token?(e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,t=t.token.expireTimeMillis-3e5,e=Math.min(e,t),Math.max(0,e-Date.now())):0},T,S)}(e),r.tokenRefresher=n),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function Z(e,t){var r=v(e).tokenObservers;for(const e of r)try{"EXTERNAL"===e.type&&null!=t.error?e.error(t.error):e.next(t)}catch(e){}}function Q(e){return 0<e.expireTimeMillis-Date.now()}function ee(e){return{token:(t=q,o.encodeString(JSON.stringify(t),!1)),error:e};var t}class te{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){var e=v(this.app)["tokenObservers"];for(const t of e)J(this.app,t.next);return Promise.resolve()}}function re(t,r){const n=new s,o=(v(t).reCAPTCHAState={initialized:n},ie(t)),e=D(!1);if(e)oe(t,r,e,o,n);else{const a=document.createElement("script");a.src="https://www.google.com/recaptcha/api.js",a.onload=()=>{const e=D(!1);if(!e)throw new Error("no recaptcha");oe(t,r,e,o,n)},document.head.appendChild(a)}return n.promise}function ne(t,r){const n=new s,o=(v(t).reCAPTCHAState={initialized:n},ie(t)),e=D(!0);if(e)oe(t,r,e,o,n);else{const a=document.createElement("script");a.src="https://www.google.com/recaptcha/enterprise.js",a.onload=()=>{const e=D(!0);if(!e)throw new Error("no recaptcha");oe(t,r,e,o,n)},document.head.appendChild(a)}return n.promise}function oe(n,o,a,i,s){a.ready(()=>{{var e=n;const t=a.render(i,{sitekey:o,size:"invisible"}),r=v(e);r.reCAPTCHAState=Object.assign(Object.assign({},r.reCAPTCHAState),{widgetId:t})}s.resolve(a)})}function ie(e){const t="fire_app_check_"+e.name,r=document.createElement("div");return r.id=t,r.style.display="none",document.body.appendChild(r),t}async function ae(n){P(n);const e=v(n).reCAPTCHAState,o=await e.initialized.promise;return new Promise((e,t)=>{const r=v(n).reCAPTCHAState;o.ready(()=>{e(o.execute(r.widgetId,{action:"fire_app_check"}))})})}class se{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){ue(this._throttleData);var e,t=await ae(this._app).catch(e=>{throw R.create("recaptcha-error")});let r;try{r=await I(function(e,t){var{projectId:e,appId:r,apiKey:n}=e.options;return{url:A+`/projects/${e}/apps/${r}:exchangeRecaptchaV3Token?key=`+n,body:{recaptcha_v3_token:t}}}(this._app,t),this._heartbeatServiceProvider)}catch(t){throw null!=(e=t.code)&&e.includes("fetch-status-error")?(this._throttleData=le(Number(null==(e=t.customData)?void 0:e.httpStatus),this._throttleData),R.create("throttled",{time:x(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):t}return this._throttleData=null,r}initialize(t){this._app=t,this._heartbeatServiceProvider=e(t,"heartbeat"),re(t,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof se&&this._siteKey===e._siteKey}}class ce{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){ue(this._throttleData);var e,t=await ae(this._app).catch(e=>{throw R.create("recaptcha-error")});let r;try{r=await I(function(e,t){var{projectId:e,appId:r,apiKey:n}=e.options;return{url:A+`/projects/${e}/apps/${r}:exchangeRecaptchaEnterpriseToken?key=`+n,body:{recaptcha_enterprise_token:t}}}(this._app,t),this._heartbeatServiceProvider)}catch(t){throw null!=(e=t.code)&&e.includes("fetch-status-error")?(this._throttleData=le(Number(null==(e=t.customData)?void 0:e.httpStatus),this._throttleData),R.create("throttled",{time:x(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):t}return this._throttleData=null,r}initialize(t){this._app=t,this._heartbeatServiceProvider=e(t,"heartbeat"),ne(t,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof ce&&this._siteKey===e._siteKey}}class he{constructor(e){this._customProviderOptions=e}async getToken(){var e=await this._customProviderOptions.getToken(),t=p(e.token),t=null!==t&&t<Date.now()&&0<t?1e3*t:Date.now();return Object.assign(Object.assign({},e),{issuedAtTimeMillis:t})}initialize(e){this._app=e}isEqual(e){return e instanceof he&&this._customProviderOptions.getToken.toString()===e._customProviderOptions.getToken.toString()}}function le(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var r,t=t?t.backoffCount:0,n=(n=t,n=1e3*Math.pow(2,n),r=Math.round(.5*n*(Math.random()-.5)*2),Math.min(144e5,n+r));return{backoffCount:t+1,allowRequestsAfter:Date.now()+n,httpStatus:e}}function ue(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw R.create("throttled",{time:x(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function pe(r=t(),n){r=(s=r)&&s._delegate?s._delegate:s;const o=e(r,"app-check");if(b().initialized||U(),K()&&z().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),o.isInitialized()){const e=o.getImmediate(),t=o.getOptions();if(t.isTokenAutoRefreshEnabled===n.isTokenAutoRefreshEnabled&&t.provider.isEqual(n.provider))return e;throw R.create("already-initialized",{appName:r.name})}var a,i,s=o.initialize({options:n});{var c=r,h=n.provider;n=n.isTokenAutoRefreshEnabled,a=c,i=Object.assign({},y),k.set(a,i);const l=k.get(a);l.activated=!0,l.provider=h,l.cachedTokenPromise=W(c).then(e=>(e&&Q(e)&&(l.token=e,Z(c,{token:e.token})),e)),l.isTokenAutoRefreshEnabled=void 0===n?c.automaticDataCollectionEnabled:n,l.provider.initialize(c)}return v(r).isTokenAutoRefreshEnabled&&X(s,"INTERNAL",()=>{}),s}function de(e,t){const r=v(e.app);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),r.isTokenAutoRefreshEnabled=t}async function ge(e,t){e=await G(e,t);if(e.error)throw e.error;return{token:e.token}}function fe(e,t,r,n){let o,a=()=>{};return o=null!=t.next?t.next.bind(t):t,null!=t.error?a=t.error.bind(t):r&&(a=r),X(e,"EXTERNAL",o,a),()=>J(e.app,o)}r(new d("app-check",e=>{var t=e.getProvider("app").getImmediate(),e=e.getProvider("heartbeat");return new te(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("app-check-internal").initialize()})),r(new d("app-check-internal",e=>{var t=e.getProvider("app-check").getImmediate();return{getToken:e=>G(t,e),addTokenListener:e=>X(t,"INTERNAL",e),removeTokenListener:e=>J(t.app,e)}},"PUBLIC").setInstantiationMode("EXPLICIT")),n("@firebase/app-check","0.6.0");export{he as CustomProvider,ce as ReCaptchaEnterpriseProvider,se as ReCaptchaV3Provider,ge as getToken,pe as initializeAppCheck,fe as onTokenChanged,de as setTokenAutoRefreshEnabled};