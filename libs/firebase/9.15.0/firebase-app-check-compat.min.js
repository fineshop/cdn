!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(le,pe){"use strict";try{!function(){var t,e=(e=le)&&"object"==typeof e&&"default"in e?e:{default:e};function i(e){try{return r.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}const r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(o,e){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();var a=e?this.byteToCharMapWebSafe_:this.byteToCharMap_;const n=[];for(let r=0;r<o.length;r+=3){var i=o[r],s=r+1<o.length,c=s?o[r+1]:0,h=r+2<o.length,l=h?o[r+2]:0;let e=(15&c)<<2|l>>6,t=63&l;h||(t=64,s||(e=64)),n.push(a[i>>2],a[(3&i)<<4|c>>4],a[e],a[t])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(r){const o=[];let a=0;for(let t=0;t<r.length;t++){let e=r.charCodeAt(t);e<128?o[a++]=e:(e<2048?o[a++]=e>>6|192:(55296==(64512&e)&&t+1<r.length&&56320==(64512&r.charCodeAt(t+1))?(e=65536+((1023&e)<<10)+(1023&r.charCodeAt(++t)),o[a++]=e>>18|240,o[a++]=e>>12&63|128):o[a++]=e>>12|224,o[a++]=e>>6&63|128),o[a++]=63&e|128)}return o}(e),t)},decodeString(r,o){if(this.HAS_NATIVE_SUPPORT&&!o)return atob(r);{var a=this.decodeStringToByteArray(r,o);const c=[];let e=0,t=0;for(;e<a.length;){var n,i,s=a[e++];s<128?c[t++]=String.fromCharCode(s):191<s&&s<224?(n=a[e++],c[t++]=String.fromCharCode((31&s)<<6|63&n)):239<s&&s<365?(i=((7&s)<<18|(63&a[e++])<<12|(63&a[e++])<<6|63&a[e++])-65536,c[t++]=String.fromCharCode(55296+(i>>10)),c[t++]=String.fromCharCode(56320+(1023&i))):(n=a[e++],i=a[e++],c[t++]=String.fromCharCode((15&s)<<12|(63&n)<<6|63&i))}return c.join("")}},decodeStringToByteArray(t,e){this.init_();var r=e?this.charToByteMapWebSafe_:this.charToByteMap_;const o=[];for(let e=0;e<t.length;){var a=r[t.charAt(e++)],n=e<t.length?r[t.charAt(e)]:0,i=++e<t.length?r[t.charAt(e)]:64,s=++e<t.length?r[t.charAt(e)]:64;if(++e,null==a||null==n||null==i||null==s)throw Error();o.push(a<<2|n>>4),64!==i&&(o.push(n<<4&240|i>>2),64!==s&&o.push(i<<6&192|s))}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function u(){try{return"object"==typeof indexedDB}catch(e){return}}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(r){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof r&&(this.promise.catch(()=>{}),1===r.length?r(e):r(e,t))}}}class a extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o.prototype.create)}}class o{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var o,t=t[0]||{},r=this.service+"/"+e,e=(e=this.errors[e])?(o=t,e.replace(L,(e,t)=>{var r=o[t];return null!=r?String(r):`<${t}?>`})):"Error",e=this.serviceName+`: ${e} (${r}).`;return new a(r,e,t)}}const L=/\{\$([^}]+)}/g;function s(e){return JSON.parse(e)}class n{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}t={DEBUG:0,0:"DEBUG",VERBOSE:1,1:"VERBOSE",INFO:2,2:"INFO",WARN:3,3:"WARN",ERROR:4,4:"ERROR",SILENT:5,5:"SILENT"};const B={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},H=t.INFO,j={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},W=(e,t,...r)=>{if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=j[t];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[a](`[${o}]  ${e.name}:`,...r)}},g=new Map,f={activated:!1,tokenObservers:[]},v={initialized:!1,enabled:!1};function E(e){return g.get(e)||Object.assign({},f)}const h="https://content-firebaseappcheck.googleapis.com/v1",F="exchangeDebugToken",c={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ${constructor(e,t,r,o,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=a,this.pending=null,a<(this.nextErrorWaitInterval=o))throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new d,t=this.getNextRun(e),await new Promise(e=>{setTimeout(e,t)}),this.pending.resolve(),await this.pending.promise,this.pending=new d,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}var t}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}const _=new o("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function l(e=!1){return e?null==(e=self.grecaptcha)?void 0:e.enterprise:self.grecaptcha}function p(e){if(!E(e).activated)throw _.create("use-before-activation",{appName:e.name})}function w(e){var e=Math.round(e/1e3),t=Math.floor(e/86400),r=Math.floor((e-3600*t*24)/3600),o=Math.floor((e-3600*t*24-3600*r)/60),e=e-3600*t*24-3600*r-60*o;let a="";return t&&(a+=m(t)+"d:"),r&&(a+=m(r)+"h:"),a+=m(o)+"m:"+m(e)+"s"}function m(e){return 0===e?"00":10<=e?e.toString():"0"+e}async function b({url:e,body:t},r){const o={"Content-Type":"application/json"},a=r.getImmediate({optional:!0});a&&(s=await a.getHeartbeatsHeader())&&(o["X-Firebase-Client"]=s);r={method:"POST",body:JSON.stringify(t),headers:o};let n;try{n=await fetch(e,r)}catch(e){throw _.create("fetch-network-error",{originalErrorMessage:null==e?void 0:e.message})}if(200!==n.status)throw _.create("fetch-status-error",{httpStatus:n.status});let i;try{i=await n.json()}catch(e){throw _.create("fetch-parse-error",{originalErrorMessage:null==e?void 0:e.message})}var s=i.ttl.match(/^([\d.]+)(s)$/);if(s&&s[2]&&!isNaN(Number(s[1])))return r=1e3*Number(s[1]),s=Date.now(),{token:i.token,expireTimeMillis:s+r,issuedAtTimeMillis:s};throw _.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+i.ttl})}const k="firebase-app-check-store",y="debug-token";let A=null;function V(){return A||(A=new Promise((t,r)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(_.create("storage-open",{originalErrorMessage:null==(e=e.target.error)?void 0:e.message}))},e.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(k,{keyPath:"compositeKey"})}}catch(e){r(_.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}))}async function K(e,t){const r=await V(),o=r.transaction(k,"readwrite"),a=o.objectStore(k),n=a.put({compositeKey:e,value:t});return new Promise((t,r)=>{n.onsuccess=e=>{t()},o.onerror=e=>{r(_.create("storage-set",{originalErrorMessage:null==(e=e.target.error)?void 0:e.message}))}})}async function z(e){const t=await V(),o=t.transaction(k,"readonly"),r=o.objectStore(k),a=r.get(e);return new Promise((t,r)=>{a.onsuccess=e=>{e=e.target.result;t(e?e.value:void 0)},o.onerror=e=>{r(_.create("storage-get",{originalErrorMessage:null==(e=e.target.error)?void 0:e.message}))}})}function U(e){return e.options.appId+"-"+e.name}const T=new class{constructor(e){this.name=e,this._logLevel=H,this._logHandler=W,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?B[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...e),this._logHandler(this,t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...e),this._logHandler(this,t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,t.INFO,...e),this._logHandler(this,t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,t.WARN,...e),this._logHandler(this,t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...e),this._logHandler(this,t.ERROR,...e)}}("@firebase/app-check");function C(e,t){return u()?K(U(e),t).catch(e=>{T.warn("Failed to write token to IndexedDB. Error: "+e)}):Promise.resolve()}async function q(){let e=void 0;try{e=await z(y)}catch(e){}if(e)return e;var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)}),r=t;return K(y,r).catch(e=>T.warn("Failed to persist debug token to IndexedDB. Error: "+e)),t}function G(){return v.enabled}async function X(){var e=v;if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}const J={error:"UNKNOWN_ERROR"};async function S(e,t=!1){var r,o=e.app;p(o);const a=E(o);let n=a.token,i=void 0;if(n&&!I(n)&&(a.token=void 0,n=void 0),n||(r=await a.cachedTokenPromise)&&(I(r)?n=r:await C(o,void 0)),!t&&n&&I(n))return{token:n.token};let s=!1;if(G())return a.exchangeTokenPromise||(a.exchangeTokenPromise=b(function(e,t){var{projectId:e,appId:r,apiKey:o}=e.options;return{url:`${h}/projects/${e}/apps/${r}:${F}?key=`+o,body:{debug_token:t}}}(o,await X()),e.heartbeatServiceProvider).finally(()=>{a.exchangeTokenPromise=void 0}),s=!0),await C(o,r=await a.exchangeTokenPromise),{token:(a.token=r).token};try{a.exchangeTokenPromise||(a.exchangeTokenPromise=a.provider.getToken().finally(()=>{a.exchangeTokenPromise=void 0}),s=!0),n=await E(o).exchangeTokenPromise}catch(e){"appCheck/throttled"===e.code?T.warn(e.message):T.error(e),i=e}let c;return n?i?c=I(n)?{token:n.token,internalError:i}:Q(i):(c={token:n.token},await C(o,a.token=n)):c=Q(i),s&&Z(o,c),c}function R(e,t,r,o){const a=E(e.app);if(o={next:r,error:o,type:t},a.tokenObservers=[...a.tokenObservers,o],a.token&&I(a.token)){const n=a.token;Promise.resolve().then(()=>{r({token:n.token}),Y(e)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Y(e))}function P(e,t){const r=E(e);e=r.tokenObservers.filter(e=>e.next!==t);0===e.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),r.tokenObservers=e}function Y(e){const t=E(e.app);let r=t.tokenRefresher;r||(r=function(t){const r=t.app;return new $(async()=>{var e=E(r).token?await S(t,!0):await S(t);if(e.error)throw e.error;if(e.internalError)throw e.internalError},()=>!0,()=>{var e,t=E(r);return t.token?(e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,t=t.token.expireTimeMillis-3e5,e=Math.min(e,t),Math.max(0,e-Date.now())):0},c.RETRIAL_MIN_WAIT,c.RETRIAL_MAX_WAIT)}(e),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Z(e,t){for(const r of E(e).tokenObservers)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(e){}}function I(e){return 0<e.expireTimeMillis-Date.now()}function Q(e){return{token:(t=J,r.encodeString(JSON.stringify(t),!1)),error:e};var t}class ee{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){for(const e of E(this.app).tokenObservers)P(this.app,e.next);return Promise.resolve()}}function te(t,r){const o=new d,e=E(t),a=(e.reCAPTCHAState={initialized:o},oe(t));var n=l(!1);if(n)D(t,r,n,a,o);else{const i=document.createElement("script");i.src="https://www.google.com/recaptcha/api.js",i.onload=()=>{var e=l(!1);if(!e)throw new Error("no recaptcha");D(t,r,e,a,o)},document.head.appendChild(i)}return o.promise}function re(t,r){const o=new d,e=E(t),a=(e.reCAPTCHAState={initialized:o},oe(t));var n=l(!0);if(n)D(t,r,n,a,o);else{const i=document.createElement("script");i.src="https://www.google.com/recaptcha/enterprise.js",i.onload=()=>{var e=l(!0);if(!e)throw new Error("no recaptcha");D(t,r,e,a,o)},document.head.appendChild(i)}return o.promise}function D(o,a,n,i,s){n.ready(()=>{{var e=o;const t=n.render(i,{sitekey:a,size:"invisible"}),r=E(e);r.reCAPTCHAState=Object.assign(Object.assign({},r.reCAPTCHAState),{widgetId:t})}s.resolve(n)})}function oe(e){e="fire_app_check_"+e.name;const t=document.createElement("div");return t.id=e,t.style.display="none",document.body.appendChild(t),e}async function ae(o){p(o);const a=await E(o).reCAPTCHAState.initialized.promise;return new Promise((e,t)=>{const r=E(o).reCAPTCHAState;a.ready(()=>{e(a.execute(r.widgetId,{action:"fire_app_check"}))})})}class O{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){ie(this._throttleData);var e=await ae(this._app).catch(e=>{throw _.create("recaptcha-error")});let t;try{t=await b(function(e,t){var{projectId:e,appId:r,apiKey:o}=e.options;return{url:h+`/projects/${e}/apps/${r}:exchangeRecaptchaV3Token?key=`+o,body:{recaptcha_v3_token:t}}}(this._app,e),this._heartbeatServiceProvider)}catch(t){throw null!=(e=t.code)&&e.includes("fetch-status-error")?(this._throttleData=ne(Number(null==(e=t.customData)?void 0:e.httpStatus),this._throttleData),_.create("throttled",{time:w(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):t}return this._throttleData=null,t}initialize(e){this._app=e,this._heartbeatServiceProvider=pe._getProvider(e,"heartbeat"),te(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof O&&this._siteKey===e._siteKey}}class x{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){ie(this._throttleData);var e=await ae(this._app).catch(e=>{throw _.create("recaptcha-error")});let t;try{t=await b(function(e,t){var{projectId:e,appId:r,apiKey:o}=e.options;return{url:h+`/projects/${e}/apps/${r}:exchangeRecaptchaEnterpriseToken?key=`+o,body:{recaptcha_enterprise_token:t}}}(this._app,e),this._heartbeatServiceProvider)}catch(t){throw null!=(e=t.code)&&e.includes("fetch-status-error")?(this._throttleData=ne(Number(null==(e=t.customData)?void 0:e.httpStatus),this._throttleData),_.create("throttled",{time:w(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):t}return this._throttleData=null,t}initialize(e){this._app=e,this._heartbeatServiceProvider=pe._getProvider(e,"heartbeat"),re(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof x&&this._siteKey===e._siteKey}}class N{constructor(e){this._customProviderOptions=e}async getToken(){var e=await this._customProviderOptions.getToken(),t=null!==(t=function(e){const t=function(e){let t={},r={},o={},a="";try{var n=e.split(".");t=s(i(n[0])||""),r=s(i(n[1])||""),a=n[2],o=r.d||{},delete r.d}catch(e){}return{header:t,claims:r,data:o,signature:a}}(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null}(e.token))&&t<Date.now()&&0<t?1e3*t:Date.now();return Object.assign(Object.assign({},e),{issuedAtTimeMillis:t})}initialize(e){this._app=e}isEqual(e){return e instanceof N&&this._customProviderOptions.getToken.toString()===e._customProviderOptions.getToken.toString()}}function ne(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var r=t?t.backoffCount:0,o=(t=2,t=1e3*Math.pow(t,r),o=Math.round(.5*t*(Math.random()-.5)*2),Math.min(144e5,t+o));return{backoffCount:r+1,allowRequestsAfter:Date.now()+o,httpStatus:e}}function ie(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw _.create("throttled",{time:w(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function se(e=pe.getApp(),t){var r,o;e=(n=e)&&n._delegate?n._delegate:n;const a=pe._getProvider(e,"app-check");if(!v.initialized){var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}();const c=v;if(c.initialized=!0,"string"==typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===n.FIREBASE_APPCHECK_DEBUG_TOKEN){c.enabled=!0;const h=new d;c.token=h,"string"==typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN?h.resolve(n.FIREBASE_APPCHECK_DEBUG_TOKEN):h.resolve(q())}}if(G()&&X().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),a.isInitialized()){var i=a.getImmediate();const l=a.getOptions();if(l.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&l.provider.isEqual(t.provider))return i;throw _.create("already-initialized",{appName:e.name})}i=a.initialize({options:t});{var s=e;n=t.provider,t=t.isTokenAutoRefreshEnabled,r=s,o=Object.assign({},f),g.set(r,o);const p=g.get(r);p.activated=!0,p.provider=n,p.cachedTokenPromise=async function(t){if(u()){let e=void 0;try{e=await z(U(t))}catch(e){T.warn("Failed to read token from IndexedDB. Error: "+e)}return e}}(s).then(e=>(e&&I(e)&&(p.token=e,Z(s,{token:e.token})),e)),p.isTokenAutoRefreshEnabled=void 0===t?s.automaticDataCollectionEnabled:t,p.provider.initialize(s)}return E(e).isTokenAutoRefreshEnabled&&R(i,"INTERNAL",()=>{}),i}const ce="app-check-internal",M=(pe._registerComponent(new n("app-check",e=>{var t=e.getProvider("app").getImmediate();return e=e.getProvider("heartbeat"),new ee(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider(ce).initialize()})),pe._registerComponent(new n(ce,e=>{var t=e.getProvider("app-check").getImmediate();return{getToken:e=>S(t,e),addTokenListener:e=>R(t,"INTERNAL",e),removeTokenListener:e=>P(t.app,e)}},"PUBLIC").setInstantiationMode("EXPLICIT")),pe.registerVersion("@firebase/app-check","0.6.0"),new o("appCheck","AppCheck",{"use-before-activation":"App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."}));class he{constructor(e){this.app=e}activate(e,t){e="string"==typeof e?new O(e):e instanceof x||e instanceof O||e instanceof N?e:new N({getToken:e.getToken});this._delegate=se(this.app,{provider:e,isTokenAutoRefreshEnabled:t})}setTokenAutoRefreshEnabled(e){if(!this._delegate)throw M.create("use-before-activation",{appName:this.app.name});{var t;const r=E(this._delegate.app);return r.tokenRefresher&&(!0===e?r.tokenRefresher.start():r.tokenRefresher.stop()),void(r.isTokenAutoRefreshEnabled=e)}}getToken(t){if(this._delegate)return async function(e){e=await S(e,t);if(e.error)throw e.error;return{token:e.token}}(this._delegate);throw M.create("use-before-activation",{appName:this.app.name})}onTokenChanged(r,o,e){if(this._delegate){var a=this._delegate;let e,t=()=>{};return e=null!=r.next?r.next.bind(r):r,null!=r.error?t=r.error.bind(r):o&&(t=o),R(a,"EXTERNAL",e,t),()=>P(a.app,e)}throw M.create("use-before-activation",{appName:this.app.name})}}e.default.INTERNAL.registerComponent(new n("appCheck-compat",e=>{e=e.getProvider("app-compat").getImmediate();return new he(e)},"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:x,ReCaptchaV3Provider:O,CustomProvider:N})),e.default.registerVersion("@firebase/app-check-compat","0.3.0")}.apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-app-check-compat.js - be sure to load firebase-app.js first.")}});